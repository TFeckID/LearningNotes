### 初始化

- 在文件夹下执行以下命令，生成.git隐藏文件夹，当前文件夹即被初始化

```c
git init
```

- 一些基础设置

```c
git config --global user.name "用户名" //设置
```



### 文件追踪

- 追踪某一文件

```c
git add <文件名>     //追踪指定文件
git add -A         //追踪当前文件夹下所有文件
```

- 查看当前文件追踪情况

```c
git status
```

- 有想忽略不追踪的文件可以新建.gitignore文件，添加忽略文件列表

- 移除对某文件的追踪

```c
git rm -f <文件名>    //将文件从磁盘上以及git暂存库中同时删除
git rm --cached <文件名> //仅将文件从暂存库中删除，磁盘上保留原文件
```

- 文件重命名

```c
git mv <原文件名> <新文件名>
```

### 缓存与提交

- 添加新的文件或修改进暂存区

```c
git add <文件名>
```

- 提交暂存区中的修改到分支

```c
git commit      
git commit -m "注释"   //提交时加入一些修改注释
git commit -a    //若项目较小，该参数可以省略 git add这一步,直接提交
```

- 比较修改前后文件的差别

```c
git diff   
```

******git diff 实际上调用的是git内部的一个比较工具，亦可选用别的比较工具，只需下载后配置好即可

### 版本标识

- 撤销对文件的修改

```c
git checkout -- <文件名> 
```

仅可撤销尚未执行git add，即尚未添加入暂存区的修改，一旦将修改加入暂存区，则不可用该命令撤销修改

- 查看文件提交版本

```c
git log //可查看所有经git commit提交的版本及其注释
```

- 标签的查看和创建

  ◆ git log所查看的散列值极难记忆，因此可以使用标签代替散列值

```c
git tag //查看系统中已有的标签
git show <标签名> //查看标签对应的版本信息
git tag -a <标签名> <版本对应散列值> -m "注释" //添加有注释的标签
git tag -d <标签名> //删除对应的标签
```

​    ◆tag 不会随着push一起push到远端服务器上

### 分支及操作

- git中的分支，并不一定指版本关系树上的一个分叉，但二者往往有联系
- git分支本质上是指向一个版本的指针，仓库中有多少个这样的指针，就有多少个分支
- HEAD指针是一个特殊指针，一般不用做分支，但用于指示当前工作分支，当前正在修改哪个分支，HEAD就指向哪个分支，切换分支就是切换HEAD的指向
- 切换分支后工作目录中的文件随之改变
- 当前仓库的分支操作

```c
git branch  //列出当前所有分支，*号为当前所在分支
git branch <分支名> //在当前分支的最新版本上创建新分支
git checkout <分支名> //切换当前分支
git branch -d <分支名> //安全删除分支，若分支未被整合，将提示用户
    /*不能删除当前正在使用的分支，如果被删除分支没有被整合，使用-d参数将       提示用户分支未被整合，若需强制删除使用-D参数*/
git branch -D <分支名> //强制删除分支，无论其是否被整合
git checkout -b <分支名> <版本散列值|标签> /*基于对应的版本创建新分                                           支并切换到新分支*/
git branch --merged //查看所有已被整合的分支、
git branch --no-merged //查看所有未被整合的分支
    /*被HEAD指针指向的分支默认为已被merged*/
```

- 分支间的整合，变基

```c
git merge <分支名(T)> //将分支T整合到当前分支
```

- - 整合分支时内容发生冲突时的处理过程：

    当进行分支整合时，如果进行整合的两个分支有相同的文件并且两个文件的相同位置有不同的内容，此时会发生冲突，git将提示Merge conflict，即整合冲突并提示冲突的文件名，此时打开冲突文件，Git会以如下形式提示冲突部分的内容

  ```c
  12345
  <<<<<<< HEAD
  QQ 222222
  =======
  QQ 33333333
  >>>>>>> t3
  ```

  ​	尖括号中的内容即为冲突部分，以连等号为分隔，上面为HEAD，即当前分支的内容，下面为被整合的分支的内容，处理方法为选择需要保留的内容，删去其他多余的部分，或直接重写冲突部分内容，如下所示

  ```c
  12345
  QQ 33333333 /*此处可以选择保留某一分支的内容，也可将内容全部删除重              写*/
  ```

  ​    然后直接执行git add和git commit操作，至此冲突处理完毕，分支整合完成

- 变基操作

```c
git rebase <分支名T> //将当前分支变为以分支T为前驱
```

- - 变基时的冲突处理：

    当两个分支存在同名文件且文件的相同地方有不同的内容时将会发生冲突，git会提示冲突并提示冲突文件名，此时打开冲突文件会以如下方式提示冲突内容

  ```c
  <<<<<<< HEAD
  456789
  =======
  123456
  >>>>>>> ta edit test
  ```


### 仓库间交流

- 克隆仓库，将本地或远程的仓库克隆到本地

```c
git clone <url|filesAddr> //克隆远程或本地的仓库到当前目录
```

- 将本地仓库和远程仓库建立联系

```c
git remote //查看与当前仓库建立联系的远程仓库
git remote -v //查看远程仓库详情
git remote add <远程仓库别名> <远程仓库链接> /*将当前仓库与远程仓库建                                            立链接*/
git remote rename <原始远程仓库别名> <更改后别名> /*更改建立连接的远                                                程仓库别名*/
git remote rm <远程仓库别名> //移除远程仓库与当前仓库的连接
git ls-remote <远程仓库别名> //查看远程仓库的分支情况
```

- - 若当前仓库本身是从一个远程仓库克隆而来，则当前仓库自动与原始远程仓库建立联系，且远程仓库标识为origin，该标识可以更改
- 从远程仓库拉取以及向远程仓库推送

```c
git fetch <远程仓库名> /*将远程有本地没有的版本拷贝到本地*/
git pull <远程仓库名> <{远程仓库分支名}:{当前仓库分支名}> /*将远程仓                             库中的分支拷贝到本地并与本地分支合并*/
git push <远程仓库别名> <要发布的本地分支名> /*将本地分支推送到远程仓                                           库*/
git push <远程仓库名> <{要发布的本地分支}:{远程仓库中的分支名}>//同上
git push --delete <远程仓库名> <远程要删除的分支名> //删除远程仓库中的分支
```







